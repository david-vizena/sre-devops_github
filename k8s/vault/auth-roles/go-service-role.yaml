apiVersion: v1
kind: ConfigMap
metadata:
  name: vault-go-service-role
  namespace: default
  labels:
    app: vault
    component: auth-role
data:
  role.hcl: |
    # Kubernetes auth role for go-service
    # This allows the go-service service account to authenticate to Vault
    # and receive the go-service-policy

    # To create this role in Vault:
    # kubectl exec -it vault-vault-0 -n data-services -- vault write auth/kubernetes/role/go-service \
    #   bound_service_account_names=go-service \
    #   bound_service_account_namespaces=default \
    #   policies=go-service-policy \
    #   ttl=1h

